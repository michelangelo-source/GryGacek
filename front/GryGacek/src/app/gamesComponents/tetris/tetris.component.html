<app-back-to-menu></app-back-to-menu>
<div class="mt-10 w-svw flex items-center justify-center flex-col">
  @if(is_end){
  <app-save-score
    [game]="'tetris'"
    [score]="line_removed"
    (end)="reset($event)"
  ></app-save-score>
  }
  <h1>Linie: {{ line_removed }} Level {{ level }}</h1>
  @for (row of board;track row;let rowId=$index ){

  <div class="flex flex-row">
    @for(cell of row;track $index){ @if(rowId>=2){
    <div class="w-6 h-6 border border-black">
      @if(cell.color!="white"){
      <img
        [src]="get_color_path(cell.color)"
        width="24"
        height="24"
        alt="{{ cell.color }}"
      />}
    </div>
    } }
  </div>
  }
  <div class="flex flex-row">
    <div class="mx-5">
      <div class="lg:hidden w-24 h-10 rounded-lg"></div>
      <div
        class="lg:hidden w-24 h-10 rounded-lg border border-black font-bold flex justify-center items-center"
        (click)="space()"
      >
        －
      </div>
    </div>
    <div class="mx-5">
      <div class="flex flex-row">
        <div class="lg:hidden w-10 h-10 rounded-lg"></div>
        <div
          class="lg:hidden w-10 h-10 rounded-lg border border-black font-bold flex justify-center items-center"
          (click)="arrow_up()"
        >
          ↑
        </div>
        <div class="lg:hidden w-10 h-10 rounded-lg"></div>
      </div>
      <div class="flex flex-row">
        <div
          class="lg:hidden w-10 h-10 rounded-lg border border-black font-bold flex justify-center items-center"
          (click)="arrow_left()"
        >
          ←
        </div>
        <div
          class="lg:hidden w-10 h-10 rounded-lg border border-black font-bold flex justify-center items-center"
          (click)="arrow_down()"
        >
          ↓
        </div>
        <div
          class="lg:hidden w-10 h-10 rounded-lg border border-black font-bold flex justify-center items-center"
          (click)="arrow_right()"
        >
          →
        </div>
      </div>
    </div>
  </div>
  <app-higscore-btn [game]="'tetris'"></app-higscore-btn>
</div>
