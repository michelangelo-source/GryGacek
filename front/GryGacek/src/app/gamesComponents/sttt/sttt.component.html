<app-back-to-menu></app-back-to-menu>
<div class="w-svh h-svh flex items-center flex-col">
  <div class="h-1/6 flex justify-center items-center">
    @if(mode=="Online"){
    {{ player_who_moves }}} @if(who_moves=='circle'){
    <h1 class="text-4xl">circle moves</h1>
    }@else {
    <h1 class="text-4xl">cross moves</h1>
    }
  </div>
  @if (mode == 'Online') {
  <div class="bg-rose-950 text-white rounded-xl p-2 m-2 text-xl">
    Room id: {{ room_id }}
  </div>
  }
  <div>
    <div id="board" class="grid grid-cols-3">
      @for (cells of cell_table;track cells;let iid=$index ) {
      <div
        [classList]="
          big_cells_results[iid].char == 'none'
            ? 'grid grid-cols-3 m-1'
            : 'grid grid-cols-1 m-1'
        "
      >
        @if(big_cells_results[iid].char=='none'){ @for(cell of cells;track
        $index){ @if(cell.char=="none") {
        <div
          [classList]="
            cell.is_active
              ? 'w-10 h-10 md:w-12 md:h-12 border-2 border-black bg-lime-300'
              : 'w-10 h-10 md:w-12 md:h-12 border-2 border-black '
          "
          (click)="
            cell.is_active
              ? mode == 'Online'
                ? player_chart == who_moves
                  ? sendMove(iid, $index)
                  : null
                : add_chart(iid, $index)
              : null
          "
        ></div>

        } @else {
        <div
          class="items-center w-10 h-10 md:w-12 md:h-12 border-2 border-black font-black"
        >
          <img [src]="get_picture_path(cell.char)" alt="" />
        </div>

        } } }@else {

        <div
          class="w-[120px] h-[120px] md:w-36 md:h-36 flex justify-center items-center border-black font-black"
        >
          <img [src]="get_picture_path(big_cells_results[iid].char)" alt="" />
        </div>

        }
      </div>

      }
    </div>
  </div>
</div>
